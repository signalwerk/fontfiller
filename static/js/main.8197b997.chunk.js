(this["webpackJsonpfont-filler"]=this["webpackJsonpfont-filler"]||[]).push([[0],{10:function(e,t,n){e.exports=n(26)},15:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),o=n.n(l),c=(n(15),n(3)),s=n(2),i=n(9),f=r.a.createContext({}),u=f.Provider,E=(f.Consumer,f),p=n(4);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h={"ZERO WIDTH SPACE":"200B",SPACE:"0020","NO-BREAK SPACE":"00A0","THIN SPACE":"2009","NARROW NO-BREAK SPACE":"202F","HAIR SPACE":"200A","SIX-PER-EM SPACE":"2006","FOUR-PER-EM SPACE":"2005","THREE-PER-EM SPACE":"2004","EN SPACE":"2002","EM SPACE":"2003","FIGURE SPACE":"2007","PUNCTUATION SPACE":"2008","FULL STOP":"002E"},H={"ZERO WIDTH SPACE":"\ud83d\udfe2 This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word|This|Is|A|Very|Long|Test|Word",SPACE:"HHH|HHH\xb6nnn|nnn","NO-BREAK SPACE":"\ud83d\udd34 HHHHHHHHHHHHHHHHHHHHHHHHHHHH|HHHHHHHHHHHHHHHHHHHHHHHHHHHH\xb6\ud83d\udfe2 HHHHHHHHHHHHHHHHHHHHHHHHHHHH#HHHHHHHHHHHHHHHHHHHHHHHHHHHH","THIN SPACE":"\ud83d\udd34 800|km\xb6\ud83d\udfe2 800#km","NARROW NO-BREAK SPACE":"\ud83d\udd34 800|km\xb6\ud83d\udfe2 800#km","HAIR SPACE":"\ud83d\udd34 800|000|000\xb6\ud83d\udfe2 800#000#000","SIX-PER-EM SPACE":"\ud83d\udd34 \u2192|\u2190\xb6\ud83d\udfe2 \u2192#\u2190","FOUR-PER-EM SPACE":"\ud83d\udd34 \u2192|\u2190\xb6\ud83d\udfe2 \u2192#\u2190","THREE-PER-EM SPACE":"\ud83d\udd34 \u2192|\u2190\xb6\ud83d\udfe2 \u2192#\u2190","EN SPACE":"\ud83d\udd34 \u2192|\u2190\xb6\ud83d\udfe2 \u2192#\u2190","EM SPACE":"\ud83d\udd34 \u2192|\u2190\xb6\ud83d\udfe2 \u2192#\u2190","FIGURE SPACE":"\ud83d\udd34 00|00\xb6\ud83d\udfe2 00#00","PUNCTUATION SPACE":"\ud83d\udd34 00|00\xb6\ud83d\udfe2 00#00"},y={SPACE:{fallback:!1},"ZERO WIDTH SPACE":{fallback:[{char:"SPACE",factor:0}]},"NO-BREAK SPACE":{fallback:[{char:"SPACE"}]},"THIN SPACE":{fallback:[{char:"SPACE",factor:.7}]},"NARROW NO-BREAK SPACE":{fallback:[{char:"THIN SPACE"},{char:"SPACE",factor:.7}]},"HAIR SPACE":{fallback:[{char:"SPACE",factor:.3}]},"SIX-PER-EM SPACE":{fallback:[{char:"EM SPACE",factor:1/6}]},"FOUR-PER-EM SPACE":{fallback:[{char:"EM SPACE",factor:.25}]},"THREE-PER-EM SPACE":{fallback:[{char:"EM SPACE",factor:1/3}]},"EN SPACE":{fallback:[{char:"EM SPACE",factor:.5}]},"EM SPACE":{fallback:!1},"FIGURE SPACE":{fallback:[{char:"DIGIT ZERO",factor:1}]},"PUNCTUATION SPACE":{fallback:[{char:"FULL STOP",factor:1}]}},b=function(e){var t=[];t.push(new s.a.Glyph({name:".notdef",advanceWidth:650,path:new s.a.Path})),Object.keys(e.glyphs).forEach((function(n){var a=e.glyphs[n];if(!1===a.exists&&a.fallback){var r=parseInt(h[n],16),l=Math.round(a.fallback.width*a.fallback.factor),o=new s.a.Glyph({name:"uni".concat(h[n]),unicode:r,advanceWidth:l,path:new s.a.Path});o.advanceWidth=l,t.push(o)}}));var n=new s.a.Font({familyName:"FontFiller",styleName:e.fontSubfamily,unitsPerEm:e.unitsPerEm,ascender:e.os2.sTypoAscender,descender:e.os2.sTypoDescender,glyphs:t});n.tables.os2=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.tables.os2,{sTypoLineGap:e.os2.sTypoLineGap,sxHeight:e.os2.sxHeight,sCapHeight:e.os2.sCapHeight}),n.download()},g=function(e){var t={unitsPerEm:null,fontSubfamily:null,os2:{sTypoAscender:null,sTypoDescender:null,sTypoLineGap:null,sxHeight:null,sCapHeight:null},glyphs:null};if(e.tables.head){var n=e.tables.head;t.unitsPerEm=n.unitsPerEm}if(e.tables.name){var a=e.tables.name;t.fontSubfamily=a.fontSubfamily.en}if(e.tables.os2){var r=e.tables.os2;t.os2.sTypoAscender=r.sTypoAscender,t.os2.sTypoDescender=r.sTypoDescender,t.os2.sTypoLineGap=r.sTypoLineGap,t.os2.sxHeight=r.sxHeight,t.os2.sCapHeight=r.sCapHeight}return t.glyphs={},Object.keys(h).forEach((function(n){var a=h[n];t.glyphs[n]={};var r=function(e,t){var n=Object.keys(e).find((function(n){return function(e,t){return e.unicodes.includes(t)}(e[n],t)}));return n?e[n]:null}(e.glyphs.glyphs,parseInt(a,16));t.glyphs[n].exists=!!r,r&&(t.glyphs[n].width=r.advanceWidth)})),Object.keys(t.glyphs).forEach((function(e){t.glyphs[e].exists||(t.glyphs[e].fallback=function(e,t){for(var n=y[e].fallback,a=0;a<n.length;a++){var r=t[n[a].char];if(r&&r.exists)return{char:n[a].char,width:r.width,factor:n[a].factor}}return!1}(e,t.glyphs))})),t};function d(e){for(var t,n,a,r="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(e),c=o.byteLength,s=c%3,i=c-s,f=0;f<i;f+=3)r+=l[(16515072&(a=o[f]<<16|o[f+1]<<8|o[f+2]))>>18]+l[t=(258048&a)>>12]+l[n=(4032&a)>>6]+l[63&a];return 1===s?(t=(3&(a=o[i]))<<4,r+="".concat(l[(252&a)>>2]).concat(l[t],"==")):2===s&&(t=(1008&(a=o[i]<<8|o[i+1]))>>4,n=(15&a)<<2,r+="".concat(l[(64512&a)>>10]).concat(l[t]).concat(l[n],"=")),r}n(23);var A=function(){var e=Object(a.useContext)(E),t=Object(c.a)(e,2),n=t[0],l=t[1],o=Object(a.useCallback)((function(e){var t=new FileReader;t.onabort=function(){return l({type:"ERROR",payload:{error:"file reading was aborted"}})},t.onerror=function(){return l({type:"ERROR",payload:{error:"file reading has failed"}})},t.onload=function(){var e=t.result;try{var n=s.a.parse(e);l({type:"LOAD",payload:{file:n,info:g(n)}}),l({type:"LOAD_BASE_64",payload:{fontBase64:d(e)}})}catch(a){l({type:"ERROR",payload:{error:a.message}})}},1===e.length?e.forEach((function(e){return t.readAsArrayBuffer(e)})):l({type:"ERROR",payload:{error:"please select only one file"}})}),[l]),f=Object(i.a)({onDrop:o}),u=f.getRootProps,p=f.getInputProps,m=f.isDragActive;return r.a.createElement(a.Fragment,null,r.a.createElement("div",Object.assign({className:"DropFont"},u()),n.fontBase64&&r.a.createElement("style",{type:"text/css"},'@font-face {\n                font-family: "my-loaded-font";\n                font-weight: normal;\n                src: url("data:font/opentype;base64,'.concat(n.fontBase64,'");\n            }')),r.a.createElement("input",p()),m?r.a.createElement("span",{className:"DropFont__caption"},"Drop the file here ..."):r.a.createElement("span",{className:"DropFont__caption"},"Drop a font here, or click to select file"),r.a.createElement("br",null),r.a.createElement("small",null,"Support for WOFF, OTF, TTF"),r.a.createElement("br",null),n.error&&r.a.createElement("h2",null,r.a.createElement("span",{role:"img","aria-label":"Warning"},"\u26a0\ufe0f")," ",n.error)))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={file:null,fontBase64:null,info:null,error:null},C=function(e,t){switch(t.type){case"ERROR":return O({},e,{error:t.payload.error,file:null,info:null});case"LOAD":return O({},e,{file:t.payload.file,info:t.payload.info,error:null});case"LOAD_BASE_64":return O({},e,{fontBase64:t.payload.fontBase64,error:null});default:return e}};var k=function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("hr",null),r.a.createElement("h1",null,"FontFiller"),r.a.createElement("hr",null),r.a.createElement("p",null,"Inspect fonts and generate missing whitespace characters for\xa0incomplete\xa0fonts."),r.a.createElement("p",{className:"small"},"Code by Stefan Huber \xb7"," ",r.a.createElement("a",{className:"App-link",href:"https://github.com/signalwerk/fontfiller/",target:"_blank",rel:"noopener noreferrer"}," ","OpenSource on GitHub")),r.a.createElement("hr",null))};var R=function(){var e=Object(a.useContext)(E),t=Object(c.a)(e,1)[0];return r.a.createElement("header",{className:"FontInfo"},r.a.createElement("h3",null,"Inspected characters"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codepoint"),r.a.createElement("th",null,"in Font"),r.a.createElement("th",{className:"right"},"Generate in FontFiller"))),r.a.createElement("tbody",null,Object.keys(y).map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,r.a.createElement("small",null,"U+",h[e])," ",e),r.a.createElement("td",null,t.info&&t.info.glyphs&&(t.info.glyphs[e].exists?"\ud83d\udfe2 YES":"\ud83d\udd34 NO"),!t.info&&"..."),r.a.createElement("td",{className:"right"},t.info&&t.info.glyphs&&!1===t.info.glyphs[e].exists&&(t.info.glyphs[e].fallback?"YES \ud83d\udfe2":""),!t.info&&"..."))})))),t.info&&r.a.createElement(a.Fragment,null,r.a.createElement("button",{onClick:function(){return b(t.info)}},"Download FontFiller (TTF)"),r.a.createElement("h2",null,"Convert & load"),r.a.createElement("p",null,"After downloading the fillter-font convert the TTF to Woff/Woff2 with"," ",r.a.createElement("a",{className:"App-link",href:"https://www.fontsquirrel.com/tools/webfont-generator",target:"_blank",rel:"noopener noreferrer"},"Font Squirrel.")," ","Then include like that:"),r.a.createElement("pre",null,'@font-face {\n    font-family: "YourFillerFont";\n    font-weight: 400;\n    font-style: normal;\n    src: url("./fontfiller.woff2") format("woff2"),\n        url("./fontfiller.woff") format("woff");\n    unicode-range: '.concat(Object.keys(t.info.glyphs).filter((function(e){return t.info.glyphs&&!1===t.info.glyphs[e].exists&&t.info.glyphs[e].fallback})).map((function(e){return"U+"+h[e]})).join(", "),";\n}")),r.a.createElement("p",null,"and use it like that:"),r.a.createElement("pre",null,'html {\n    font-family: "YourFillerFont", "HereYourNormalFont", sans-serif;\n}')),t.info&&r.a.createElement("details",null,r.a.createElement("summary",null,"Debug-Infos"),r.a.createElement("pre",null,JSON.stringify(t.info,null,2))),r.a.createElement("br",null))};n(24);var T=function(){var e=Object(a.useContext)(E),t=Object(c.a)(e,1)[0];return t.info?r.a.createElement("div",{className:"FillSelect"},r.a.createElement("h2",null,"Examples"),r.a.createElement("ul",{className:"FillSelect__list"},Object.keys(t.info.glyphs).map((function(e){return t.info.glyphs&&!1===t.info.glyphs[e].exists&&t.info.glyphs[e].fallback&&r.a.createElement("li",{className:"FillSelect__item FillSelect__item--missing"},H[e].split("\xb6").map((function(n){return r.a.createElement("h3",{className:"FillSelect__example"},n.split("|").join(String.fromCharCode(parseInt(h[e],16))).split("#").map((function(n,l,o){return r.a.createElement(a.Fragment,null,r.a.createElement("span",null,n),l!==o.length-1&&r.a.createElement("span",{className:"FillSelect__spaceMock",style:{width:"".concat(1/t.info.unitsPerEm*(t.info.glyphs[e].fallback.width*t.info.glyphs[e].fallback.factor),"em")}}))})))})),r.a.createElement("span",{role:"img","aria-label":"info"},"\ud83d\udd34")," ",r.a.createElement("small",null,"U+",h[e])," ",e," not in font ",r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("span",{role:"img","aria-label":"new"},"\ud83d\udfe2")," ",r.a.createElement("small",null,"U+",h[t.info.glyphs[e].fallback.char])," ",t.info.glyphs[e].fallback.char," used to generate fallback in FontFiller"," ",1!==t.info.glyphs[e].fallback.factor?r.a.createElement("span",null,"(Width \xd7 ",t.info.glyphs[e].fallback.factor,")"):""))})))):null};n(25);var v=function(){var e=Object(a.useReducer)(C,S);return r.a.createElement("div",{className:"App"},r.a.createElement(u,{value:e},r.a.createElement(k,null),r.a.createElement(A,null),r.a.createElement("hr",null),r.a.createElement(R,null),r.a.createElement(T,null),r.a.createElement("p",{className:"small"},"Thanks to"," ",r.a.createElement("a",{className:"App-link",href:"https://github.com/opentypejs/opentype.js",target:"_blank",rel:"noopener noreferrer"}," ","opentype.js"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t){}},[[10,1,2]]]);
//# sourceMappingURL=main.8197b997.chunk.js.map